"I'm building a web-based file sharing application and need a detailed implementation using Python with the Flask framework. "
"The application should include the following features:\n"
"- User registration and authentication.\n"
"- Secure file upload and download functionality.\n"
"- Generation of shareable links for files.\n"
"- Storage of file metadata in a SQLite database.\n"
"- Basic file encryption for security.\n"
"- Proper error handling and logging.\n"
"Do not include any commentary. Please provide the code implementation only.\n"
"Keep all files in the base directory.\n"
"Adding something in a file means you must provide the full code for that file."